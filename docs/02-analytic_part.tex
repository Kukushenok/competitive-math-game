\chapter{Аналитическая часть}
Для сравнения были выбраны соревновательные и обучающие игры. Составлены следующие критерии:
\begin{itemize}
	\item наличие временных соревнований (а);
	\item внутриигровые вознаграждения за соревнования (б);
	\item образовательная направленность (в).
\end{itemize}

Сравнение представлено в таблице~\ref{tbl:comparison}. 

\begin{table}[h!]
	\caption{\label{tbl:comparison}Сравнение существующих решений}
	\begin{tabular}{|l|l|l|l|}
		\hline
		 & а & б & в \\\hline
		Клавогонки & + & - & + \\\hline
		Математический тренажёр & - & - & +\\\hline
		Clash Royale  & + & + & -\\\hline
	\end{tabular}
\end{table}
\FloatBarrier

\section{Формализация соревновательной игры}

Соревновательная игра состоит из основной части, оцениваемая количеством очков (целым числом), и заключительной, где очки игроков сравниваются между собой.

Соревнование характеризуется сроками проведения (начало и конец), информацией о выдаваемых наградах, а также параметрами игры. Выдаваемые награды характеризуются собственно наградой, а также критерием выдачи исходя из таблицы лидеров. Возможны следующие критерии:
\begin{itemize}
	\item место в таблице лидеров~---~игрок занял место в таблице лидеров в пределе указанного диапазона;
	\item ранг в таблице лидеров~---~доля игроков (число от 0 до 1), которых игрок опередил в таблице лидеров, лежит в пределе указанного диапазона.
\end{itemize}
Параметры игры представляют собой текстовый файл. 

%Параметры игры представляют собой текстовый файл, в котором описана нужная для приложения информация об уровне.

В основной части игрок зарабатывает очки, решая математические примеры на скорость, указанные в параметрах соревнования. Результат, как и время подачи результата сохраняется в таблицу лидеров соответствующего соревнования.

Заключительная часть наступает по истечению срока соревнования. Составляется таблица лидеров, сортируя игроков сначала по убыванию игрового счёта, потом по возрастанию времени подачи последнего результата. Награды выдаются игрокам, исходя из таблицы лидеров. 





%Математический пример в игре состоит из:
%\begin{itemize}
%	\item операции (сложение, умножение, вычитание, деление)
%	\item первого операнда (целое число)
%	\item второго операнда (целое число)
%	\item результата (целое число)
%	\item ложные результаты (различные целые числа, не равные результату)
%\end{itemize}

%Соревновательная игра состоит из основной части, оцениваемая счётом (вещественным числом), и заключительной, где очки игроков сравниваются между собой.

%В основной части игрок зарабатывает очки, решая математические примеры на скорость. Цель игрока~--~решить определённое количество математических примеров правильно
%Игрок начинает с 15 очками. Каждый ход ему предоставляется математический пример, на который он должен ответить, выбрав между несколькими числами-результатами.
%За правильный ответ игрок получает 2 очка, и счётчик оставшихся примеров уменьшается. За неправильный ответ у игрока отнимается 1 очко, а счётчик оставшихся примеров не меняется. Игрок получает следующий пример через секунду после своего ответа.

%Когда все примеры решены, из общего игрока отнимается затраченное время на игру (в секундах). Полученное число является итоговым счётом.

В рамках поставленной цели требуется разработать базу данных, содержащую информацию о соревнованиях, об игроках, о их участии в соревнованиях, а также информацию о выданных наградах и выдаваемых наградах соревнования.


\section{Формализация данных}
Разрабатываемая база данных должна содержать информацию об игроках, профилей игроков, соревнований, результатах игры, наград. Информация об игровом уровне хранится как Сущности базы данных представлены в таблице~\ref{tbl:dataop}

\begin{table}[h!]
	\caption{\label{tbl:dataop}Описание сущностей базы данных}
	\begin{tabular}{|l|p{8cm}|}
		\hline
		Сущность & Данные \\\hline
		Аккаунт & Логин, почта, права доступа, пароль \\\hline
		Профиль & Имя, описание, изображение \\\hline
		Соревнование & Имя, описания, даты начала и конца, описание уровня, выданы ли награды \\\hline
		Тип награды & Имя, описание, редкость, изображение, внутриигровое представление\\\hline
		Награда & Дата выдачи. Ссылается на тип награды, соревнование и игрока \\\hline
		Награда соревнования & Критерий выдачи. Ссылается на тип награды и соревнование\\\hline
		Критерий выдачи по месту & Минимальное и максимальное место \\\hline
		Критерий выдачи по рангу & Минимальный и максимальный ранг \\\hline
	\end{tabular}
\end{table}
\FloatBarrier
Диаграмма сущностей базы данных представлена на рисунке~\ref{scheme:erd}
\scheme{erd}{Диаграмма сущностей базой данных в нотации Чена}

\FloatBarrier
\section{Категории пользователя}

В рамках задачи было выделено три категории пользователя:
\begin{itemize}
	\item гость,
	\item игрок,
	\item админинстратор.
\end{itemize}

Все категории пользователя имеют возможность просматривать профили игроков, таблицы лидеров соревнования, а также собственно соревнований (данные о сроках проведения и наградах)

Гость имеет возможность авторизации и создания аккаунта. При авторизации гость может стать игроком или администратором.

Игрок может просматривать свои награды, редактировать свой профиль, а также участвовать в соревнованиях.

Админинстратор может:
\begin{itemize}
	\item назначать и отзывать награды игрока;
	\item создавать и редактировать соревнования;
	\item отзывать нежелательные результаты, удаляя их;
	\item создавать и редактировать типы наград.
\end{itemize}

Игрок и администратор имеют возможность выйти из аккаунта, в последствии чего устанавливается категория пользователя "гость".

Диаграмма пользования базой данных представлена на рисунке~\ref{scheme:usecase}.

\scheme{usecase}{Диаграмма пользования базой данных}

\section{Выбор модели данных}

\section*{Вывод}

TODO
\clearpage
